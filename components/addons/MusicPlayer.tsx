'use client'
import React, { useContext, useState } from 'react';
import ReactPlayer from 'react-player';
import '@/app/globals.css'
import MusicContext from '@/musicContext';

const MusicPlayer: React.FC = () => {
  const {isPlaying, setIsPlaying} = useContext(MusicContext);



  return (
    <div className="fixed bottom-8 right-8 z-[70]">
      <div
      className='music'
        onClick={() => setIsPlaying(!isPlaying)}
      >
        <div className='bg-black border-2 border-white rounded-full w-12 h-12 flex justify-center items-center'>
          {isPlaying ?
            <svg className='music-svg' fill="#ffffff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 429.157 429.157">
              <g id="SVGRepo_bgCarrier" strokeWidth="0" />
              <g id="SVGRepo_tracerCarrier" stroke-Linecap="round" strokeLinejoin="round" />
              <g id="SVGRepo_iconCarrier"> <g> <g> <path d="M47.102,247.94v-94.204c0-13.006-10.542-23.552-23.552-23.552C10.542,130.185,0,140.73,0,153.736v94.204 c0,13.009,10.542,23.552,23.55,23.552C36.56,271.492,47.102,260.949,47.102,247.94z" /> <path d="M122.99,346.078V71.308c0-13.006-10.54-23.552-23.55-23.552S75.889,58.301,75.889,71.308v274.771 c0,13.009,10.542,23.552,23.552,23.552S122.99,359.087,122.99,346.078z" /> <path d="M198.881,305.516V153.736c0-13.006-10.542-23.552-23.552-23.552s-23.55,10.545-23.55,23.552v151.779 c0,13.008,10.54,23.552,23.55,23.552S198.881,318.523,198.881,305.516z" /> <path d="M405.605,177.294c-13.012,0-23.551,10.545-23.551,23.552v130.851c0,13.008,10.539,23.552,23.551,23.552 c13.009,0,23.552-10.544,23.552-23.552V200.846C429.157,187.839,418.614,177.294,405.605,177.294z" /> <path d="M329.721,12.428c-13.008,0-23.547,10.545-23.547,23.552v357.198c0,13.012,10.539,23.552,23.547,23.552 c13.013,0,23.552-10.54,23.552-23.552V35.98C353.272,22.974,342.726,12.428,329.721,12.428z" /> <path d="M253.832,355.248c13.013,0,23.553-10.544,23.553-23.552V104.679c0-13.006-10.54-23.552-23.553-23.552 c-13.008,0-23.551,10.545-23.551,23.552v227.017C230.281,344.704,240.824,355.248,253.832,355.248z" /> </g> </g> </g>
            </svg>
            :
            <svg fill="#ffffff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 429.157 429.157">
              <g id="SVGRepo_bgCarrier" strokeWidth="0" />
              <g id="SVGRepo_tracerCarrier" strokeLinecap="round" strokeLinejoin="round" />
              <g id="SVGRepo_iconCarrier"> <g> <g> <path d="M47.102,247.94v-94.204c0-13.006-10.542-23.552-23.552-23.552C10.542,130.185,0,140.73,0,153.736v94.204 c0,13.009,10.542,23.552,23.55,23.552C36.56,271.492,47.102,260.949,47.102,247.94z" /> <path d="M122.99,346.078V71.308c0-13.006-10.54-23.552-23.55-23.552S75.889,58.301,75.889,71.308v274.771 c0,13.009,10.542,23.552,23.552,23.552S122.99,359.087,122.99,346.078z" /> <path d="M198.881,305.516V153.736c0-13.006-10.542-23.552-23.552-23.552s-23.55,10.545-23.55,23.552v151.779 c0,13.008,10.54,23.552,23.55,23.552S198.881,318.523,198.881,305.516z" /> <path d="M405.605,177.294c-13.012,0-23.551,10.545-23.551,23.552v130.851c0,13.008,10.539,23.552,23.551,23.552 c13.009,0,23.552-10.544,23.552-23.552V200.846C429.157,187.839,418.614,177.294,405.605,177.294z" /> <path d="M329.721,12.428c-13.008,0-23.547,10.545-23.547,23.552v357.198c0,13.012,10.539,23.552,23.547,23.552 c13.013,0,23.552-10.54,23.552-23.552V35.98C353.272,22.974,342.726,12.428,329.721,12.428z" /> <path d="M253.832,355.248c13.013,0,23.553-10.544,23.553-23.552V104.679c0-13.006-10.54-23.552-23.553-23.552 c-13.008,0-23.551,10.545-23.551,23.552v227.017C230.281,344.704,240.824,355.248,253.832,355.248z" /> </g> </g> </g>
            </svg>
          }
        </div>
      </div>
      {isPlaying && (
        <ReactPlayer
          url="/vibe.mp3"
          playing={isPlaying}
          loop={true}
          volume={0.8}
          width={0}
          height={0}
        />
      )}
    </div>
  );
};

export default MusicPlayer;
